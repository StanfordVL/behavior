<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; BEHAVIOR 0.0.1 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Training and Evaluating Agents" href="benchmarking.html" />
    <link rel="prev" title="The BEHAVIOR Benchmark" href="intro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> BEHAVIOR
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">The BEHAVIOR Benchmark</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#option-1-manual-installation">Option 1: Manual installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#option-2-using-docker">Option 2: Using Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="benchmarking.html">Training and Evaluating Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="baselines.html">Baselines</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Code Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Components of BEHAVIOR</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="agents.html">Embodiments: actuation, sensing, grasping</a></li>
<li class="toctree-l1"><a class="reference internal" href="setups.html">Benchmark Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="activities.html">The BEHAVIOR Dataset of Activity Definitions and BDDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="vr_demos.html">The BEHAVIOR Dataset of Human Demonstrations in Virtual Reality</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">The BEHAVIOR Dataset of Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Code Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BEHAVIOR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
<p>Evaluating Embodied AI agents in BEHAVIOR requires to install three code blocks: the iGibson simulator, the BDDL library of logic language, and the benchmarking utilities (this repo).</p>
<p>There are two alternatives for the installation:</p>
<ol class="simple">
<li><p>the common and most flexible way, installing the github repositories (or pip installing) manually. This is available under MacOS, Linux and Windows.</p></li>
<li><p>the fastest but less flexible using a Docker image. This second alternative is only available for Linux and Windows users. It is the preferred mode if you plan to submit to our public leaderboard on EvalAI.</p></li>
</ol>
<div class="section" id="option-1-manual-installation">
<h2>Option 1: Manual installation<a class="headerlink" href="#option-1-manual-installation" title="Permalink to this headline"></a></h2>
<p>In the following, we summarize the steps to install iGibson, BDDL, and the BEHAVIOR code. If you have any issues with iGibson or BDDL, please refer to the extend installation instructions in the respective repositories (<a class="reference external" href="http://svl.stanford.edu/igibson/docs/installation.html">docs for iGibson installation</a> and <a class="reference external" href="https://github.com/StanfordVL/bddl/blob/master/README.md">docs for BDDL installation</a>).</p>
<ol>
<li><p>Ensure you have the all prerequisites for the installation of iGibson by following the dependencies section <a class="reference external" href="http://svl.stanford.edu/igibson/docs/installation.html#installing-dependencies">here</a></p></li>
<li><p>Clone all necessary repositories for the benchmark:</p>
<p>a) The iGibson simulation environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">stanfordvl</span><span class="o">/</span><span class="n">iGibson</span><span class="o">.</span><span class="n">git</span> <span class="o">--</span><span class="n">recursive</span>
</pre></div>
</div>
<p>b) The BDDL logic language:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">stanfordvl</span><span class="o">/</span><span class="n">bddl</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>c) The BEHAVIOR repository with the benchmarking utilities and baselines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">stanfordvl</span><span class="o">/</span><span class="n">behavior</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</li>
<li><p>Download and obtain access to the BEHAVIOR Dataset of Objects (3D assets with physical and semantic annotations)</p>
<p>a) Accept the license agreement filling the <a class="reference external" href="https://forms.gle/GXAacjpnotKkM2An7">form</a>. This allows you to use the assets within iGibson for free for your research.</p>
<p>b) You will receive a encryption key (<code class="docutils literal notranslate"><span class="pre">igibson.key</span></code>). Move the key into the data folder of the iGibson repository, <code class="docutils literal notranslate"><span class="pre">iGibson/igibson/data</span></code>.</p>
<p>c) Download the BEHAVIOR data bundle including the BEHAVIOR Dataset of Objects and the iGibson2 Dataset of scenes from <span class="xref myst">form</span>.</p>
<p>d) Decompress the BEHAVIOR data bundle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="n">behavior_data_bundle</span><span class="o">.</span><span class="n">zip</span> <span class="o">-</span><span class="n">d</span> <span class="n">iGibson</span><span class="o">/</span><span class="n">igibson</span><span class="o">/</span><span class="n">data</span>
</pre></div>
</div>
</li>
<li><p>(If you haven’t done it already) Create a virtual environment and activate it</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">igibson</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.8</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">igibson</span>
</pre></div>
</div>
</li>
<li><p>Install the downloaded repositories in the environment</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">iGibson</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">bddl</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">behavior</span>
</pre></div>
</div>
</li>
<li><p>Download the iGibson assets that include robot models</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">igibson</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">assets_utils</span> <span class="o">--</span><span class="n">download_assets</span>
</pre></div>
</div>
</li>
<li><p>Run the getting started script to evaluate the installation</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">iGibson</span><span class="o">/</span><span class="n">igibson</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">behavior</span><span class="o">/</span><span class="n">behavior_env_metrics</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">headless</span>
</pre></div>
</div>
<p>If you are working on your local machine, you can drop the <code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">headless</span></code> flag and visualize the test on a GUI.</p>
</li>
</ol>
<p>Alternatively, you could install iGibson and BDDL using <code class="docutils literal notranslate"><span class="pre">pip</span></code>. In that case, you can skip the steps of cloning and installing their github repositories and do it only for the <code class="docutils literal notranslate"><span class="pre">behavior</span></code> repository.</p>
<p>If you run into any issues, refer to our <span class="xref myst">FAQ</span> or <a class="reference external" href="mailto:behavior&#46;benchmark&#37;&#52;&#48;gmail&#46;com">contact us</a>.</p>
</div>
<div class="section" id="option-2-using-docker">
<h2>Option 2: Using Docker<a class="headerlink" href="#option-2-using-docker" title="Permalink to this headline"></a></h2>
<p><strong>This section needs to be updated. Until that is done, please, follow the instructions above or modify the instructions below to adapt to the new Docker images.</strong></p>
<ol>
<li><p>Clone this repository</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">stanfordvl</span><span class="o">/</span><span class="n">behavior</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</li>
<li><p>Install nvidia-docker2 following the guidelines <a class="reference external" href="https://github.com/nvidia/nvidia-docker/wiki/Installation-(version-2.0)">here</a></p></li>
<li><p>Modify the provided Dockerfile to include any additional dependencies, and your own agent. A minimal Dockerfile presents the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>FROM stanfordvl/behavior:latest
ENV PATH /miniconda/envs/gibson/bin:$PATH

ADD benchmark/agents/agent.py /agent.py
ADD benchmark/agents/random_agent.py /random_agent.py
ADD benchmark/agents/rl_agent.py /rl_agent.py
ADD benchmark/behavior_benchmark.py /behavior_benchmark.py

ADD benchmark/scripts/submission.sh /submission.sh
WORKDIR /
</pre></div>
</div>
<p>Then build your Docker container with <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">build</span> <span class="pre">.</span> <span class="pre">-t</span> <span class="pre">my_submission</span></code> replacing <code class="docutils literal notranslate"><span class="pre">my_submission</span></code> with the name you want to use for the Docker image.</p>
</li>
<li><p>Download and obtain access to the BEHAVIOR Dataset of Objects (3D assets with physical and semantic annotations). If you already did this before, for example because you also installed the repositories, you can skip this step. Otherwise:</p>
<p>a) Accept the license agreement filling the <a class="reference external" href="https://forms.gle/GXAacjpnotKkM2An7">form</a>. This allows you to use the assets within iGibson for free for your research.</p>
<p>b) After signing and uploading the agreement, you will get access to the encryption key (<code class="docutils literal notranslate"><span class="pre">igibson.key</span></code>) and a data bundle for BEHAVIOR (<code class="docutils literal notranslate"><span class="pre">behavior_data_bundle.zip</span></code>) including the BEHAVIOR Dataset of Objects and the iGibson2 Dataset of scenes. Download both.</p>
<p>c) Decompress the BEHAVIOR data bundle into a folder, e.g. <code class="docutils literal notranslate"><span class="pre">dataset</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="n">behavior_data_bundle</span><span class="o">.</span><span class="n">zip</span> <span class="o">-</span><span class="n">d</span> <span class="n">dataset</span>
</pre></div>
</div>
<p>e) Place the <code class="docutils literal notranslate"><span class="pre">igibson.key</span></code> in the folder you decompressed the bundle (<code class="docutils literal notranslate"><span class="pre">dataset</span></code> in our example)</p>
</li>
<li><p>You are ready to train and test your solutions, or create a submission to EvalAI. See <a class="reference internal" href="benchmarking.html"><span class="doc std std-doc">Section Training and Evaluating</span></a></p></li>
</ol>
<p>If you run into any issues, refer to our <span class="xref myst">FAQ</span> or <a class="reference external" href="mailto:behavior&#46;benchmark&#37;&#52;&#48;gmail&#46;com">contact us</a>.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro.html" class="btn btn-neutral float-left" title="The BEHAVIOR Benchmark" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="benchmarking.html" class="btn btn-neutral float-right" title="Training and Evaluating Agents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Stanford University 2018-2021.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>